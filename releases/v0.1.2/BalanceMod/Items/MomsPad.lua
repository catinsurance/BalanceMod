local a=require("BalanceMod.API.GiantBookApi")local b={Item=Isaac.GetItemIdByName("Mom's Pad"),RadiusOfEffect=115,EffectLifetime=4*60,EntityTracker={}}function b:OnUse(c,c,d)local e=Isaac.FindInRadius(d.Position,b.RadiusOfEffect,EntityPartition.ENEMY)for c,f in ipairs(e)do f:AddEntityFlags(EntityFlag.FLAG_BAITED)b.EntityTracker[GetPtrHash(f)]=Isaac.GetFrameCount()end;a:PlayGiantBook("Appear","giantbook_008_diaper.png",Color(1,1,1,1),Color(1,1,1,1),Color(0.9,0.9,0.9,1),90,false)return{Discharge=true,ShowAnim=true,Remove=false}end;function b:OnEntityUpdate(f)local g=b.EntityTracker[GetPtrHash(f)]if g~=nil then if f:HasEntityFlags(EntityFlag.FLAG_BAITED)then if Isaac.GetFrameCount()-g>b.EffectLifetime then f:ClearEntityFlags(EntityFlag.FLAG_BAITED)b.EntityTracker[GetPtrHash(f)]=nil end else b.EntityTracker[GetPtrHash(f)]=nil end end end;return function(h)h:AddCallback(ModCallbacks.MC_USE_ITEM,b.OnUse,b.Item)h:AddCallback(ModCallbacks.MC_NPC_UPDATE,b.OnEntityUpdate)if EID then EID:addCollectible(b.Item,"{{Bait}} Baits enemies in a small radius around Isaac#Baited enemies will be targeted by other enemies#Effect lasts 4 seconds")end;return{OldItemId=CollectibleType.COLLECTIBLE_MOMS_PAD,NewItemId=b.Item}end