local a="#Drops a tier when Isaac takes non-self damage#Tier 5 (Perfection): +10 Luck)#Tier 4 (Excellence): +8 Luck#Tier 3 (Mediocrity): +6 Luck#Tier 2 (Incompetence): +4 Luck#Tier 1 (Failure): +2 Luck"local b={Trinkets={Perfection=Isaac.GetTrinketIdByName("Perfection"),Excellence=Isaac.GetTrinketIdByName("Excellence"),Mediocrity=Isaac.GetTrinketIdByName("Mediocrity"),Incompetence=Isaac.GetTrinketIdByName("Incompetence"),Failure=Isaac.GetTrinketIdByName("Failure")}}b.Tiers={[5]=b.Trinkets.Perfection,[4]=b.Trinkets.Excellence,[3]=b.Trinkets.Mediocrity,[2]=b.Trinkets.Incompetence,[1]=b.Trinkets.Failure}local function c(d)for e,f in pairs(b.Tiers)do if f==d then return e end end end;function b:UpdateCache(g)local h,i=g:GetTrinket(0),g:GetTrinket(1)local e=c(h)or c(i)if e then g.Luck=g.Luck+2*e end end;function b:TakeDamage(j,k,l)local g=j:ToPlayer()if g then local h,i=g:GetTrinket(0),g:GetTrinket(1)local e=c(h)or c(i)if e then local m=b.Tiers[e-1]g:TryRemoveTrinket(b.Tiers[e])if m then g:AddTrinket(m)end end end end;function b:RunStart()local n=Game():GetItemPool()for o,d in pairs(b.Trinkets)do n:RemoveTrinket(d)end end;return function(p)if not EID then return end;p:AddCallback(ModCallbacks.MC_EVALUATE_CACHE,b.UpdateCache,CacheFlag.CACHE_LUCK)p:AddCallback(ModCallbacks.MC_ENTITY_TAKE_DMG,b.TakeDamage,EntityType.ENTITY_PLAYER)p:AddCallback(ModCallbacks.MC_POST_GAME_STARTED,b.RunStart)EID:addTrinket(b.Trinkets.Perfection,"{{ArrowUp}} +10 Luck"..a)EID:addTrinket(b.Trinkets.Excellence,"{{ArrowUp}} +8 Luck"..a)EID:addTrinket(b.Trinkets.Mediocrity,"{{ArrowUp}} +6 Luck"..a)EID:addTrinket(b.Trinkets.Incompetence,"{{ArrowUp}} +4 Luck"..a)EID:addTrinket(b.Trinkets.Failure,"{{ArrowUp}} +2 Luck"..a)end