local a=require("BalanceMod.Utility.PlayerTracker")local b={Item=Isaac.GetItemIdByName("Razor Blade"),DamageIncrease=1.8,PlayerSelfDamage={}}function b:OnCacheEvaluate(c,d)if c:HasCollectible(b.Item)then if d==CacheFlag.CACHE_DAMAGE then local e=a:GetPlayerIndex(c)if b.PlayerSelfDamage[e]==nil then b.PlayerSelfDamage[e]=0 end;c.Damage=c.Damage+b.DamageIncrease*b.PlayerSelfDamage[e]end end end;function b:ResetCounter()b.PlayerSelfDamage={}end;function b:OnUse(f,f,c)if not c:TakeDamage(2,DamageFlag.DAMAGE_RED_HEARTS,EntityRef(c),0)then return end;local g=b.PlayerSelfDamage[a:GetPlayerIndex(c)]or 0;b.PlayerSelfDamage[a:GetPlayerIndex(c)]=g+1;c:AddCacheFlags(CacheFlag.CACHE_DAMAGE)return true end;return function(h)h:AddCallback(ModCallbacks.MC_USE_ITEM,b.OnUse,b.Item)h:AddCallback(ModCallbacks.MC_EVALUATE_CACHE,b.OnCacheEvaluate)h:AddCallback(ModCallbacks.MC_POST_NEW_ROOM,b.ResetCounter)h:AddCallback(ModCallbacks.MC_POST_GAME_END,b.ResetCounter)if not EID then return end;EID:addCollectible(b.Item,"On use:#{{ArrowUp}} +1.8 Damage for the room#{{Heart}} Deals a full heart of damage#Prioritizes red hearts")end